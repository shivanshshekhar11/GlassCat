extends layout

block content

  script.
    function filterFunction() {
      var input, filter, ul, li, a, i;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      div = document.getElementById("dropdown");
      a = div.getElementsByClassName("radio-div");
      for (i = 0; i < a.length; i++) {
        txtValue = a[i].id;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          a[i].style.display = "block";
        } else {
          a[i].style.display = "none";
        }
      }
    }

  div#about
    h1 #{title}

    form(method='POST' action='')
      div.form-group
        label(for='name') Name:
        input#name.form-control(type='text', placeholder='e.g. Heat Transfer Lab' name='name' value=(undefined===subCategory ? '' : subCategory.name))

      div.form-group
        label(for='description') Description:
        textarea#description.form-control(type='textarea', placeholder='description ...' name='description' rows="5" cols="50") #{undefined===subCategory ? '' : subCategory.description}

      div.form-group
        label Category:
        input(type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()")
        div#dropdown.dropdown-content
          for category in categories
            div.radio-div(id=category.name)
              input.radio-input(type='radio', name='category', id=category._id, value=category._id,)
              label(for=category._id) #{category.name}

      div.form-group
        label(for='password') Password:
        input#password.form-control(type='password' name='password')
      
      button#submit-button.btn.btn-primary(type='submit') Submit

    if errors
      ul
        for error in errors
          li!= error.msg